# SAM PRO - دليل البناء والتوزيع

## نظرة عامة
SAM PRO هو نظام إدارة المبيعات والمخزون مطور بـ Flask ومحول إلى تطبيق سطح مكتب باستخدام PyInstaller.

## متطلبات البناء

### البرامج المطلوبة
- Python 3.8 أو أحدث
- pip (مدير حزم Python)
- Git (للتحكم في الإصدارات)

### المكتبات المطلوبة
جميع المكتبات مدرجة في ملف `requirements.txt`

## خطوات البناء

### 1. إعداد البيئة
```bash
# تثبيت المتطلبات
pip install -r requirements.txt
```

### 2. البناء التلقائي
```bash
# تشغيل ملف البناء
build.bat
```

### 3. البناء اليدوي
```bash
# تنظيف الملفات السابقة
rmdir /s /q dist build __pycache__

# بناء التطبيق
pyinstaller sam_pro.spec
```

## ملفات التكوين

### sam_pro.spec
ملف تكوين PyInstaller الذي يحدد:
- الملفات المطلوبة
- المكتبات المخفية
- إعدادات البناء

### version_info.txt
معلومات إصدار التطبيق المعروضة في خصائص الملف

### main.py
نقطة الدخول الرئيسية للتطبيق التي تحتوي على:
- واجهة المستخدم الرسومية (Tkinter)
- إدارة خادم Flask
- التحكم في دورة حياة التطبيق

## هيكل المشروع
```
SAM_PRO/
├── app.py              # تطبيق Flask الرئيسي
├── main.py             # نقطة دخول سطح المكتب
├── config.py           # إعدادات التطبيق
├── models.py           # نماذج قاعدة البيانات
├── requirements.txt    # متطلبات Python
├── sam_pro.spec       # تكوين PyInstaller
├── version_info.txt   # معلومات الإصدار
├── build.bat          # ملف البناء
├── templates/         # قوالب HTML
├── static/           # ملفات CSS/JS
└── dist/             # مجلد الإخراج (بعد البناء)
    └── SAM_PRO.exe   # الملف التنفيذي
```

## الميزات

### واجهة سطح المكتب
- واجهة مستخدم بسيطة وسهلة الاستخدام
- تحكم كامل في خادم التطبيق
- عرض حالة الخادم والرسائل
- فتح التطبيق في المتصفح تلقائياً

### الأمان
- تشغيل محلي فقط (127.0.0.1)
- منفذ ديناميكي لتجنب التعارضات
- إغلاق آمن للخادم

### الأداء
- تشغيل متعدد الخيوط
- استهلاك ذاكرة محسن
- بدء تشغيل سريع

## استكشاف الأخطاء

### مشاكل شائعة

#### خطأ في استيراد المكتبات
```
ImportError: No module named 'flask'
```
**الحل:** تأكد من تثبيت جميع المتطلبات
```bash
pip install -r requirements.txt
```

#### خطأ في بناء التطبيق
```
PyInstaller failed to build
```
**الحل:** تحقق من:
- إصدار Python متوافق
- جميع الملفات موجودة
- لا توجد أخطاء في الكود

#### التطبيق لا يعمل بعد البناء
**الحل:** تحقق من:
- ملفات القوالب والموارد مضمنة
- قاعدة البيانات تم إنشاؤها
- المنفذ متاح

### سجلات الأخطاء
يمكن العثور على سجلات الأخطاء في:
- نافذة الرسائل في التطبيق
- ملف `error.log` (إذا تم إنشاؤه)

## التخصيص

### تغيير الأيقونة
1. استبدل ملف `icon.ico`
2. أعد بناء التطبيق

### تخصيص واجهة المستخدم
عدل ملف `main.py` في قسم `create_gui()`

### إضافة ميزات جديدة
1. عدل `app.py` لإضافة الميزات
2. حدث `sam_pro.spec` إذا لزم الأمر
3. أعد البناء

## الدعم الفني
للحصول على المساعدة:
1. تحقق من هذا الدليل أولاً
2. راجع سجلات الأخطاء
3. تأكد من توافق البيئة

## الترخيص
هذا المشروع مرخص تحت رخصة MIT - راجع ملف LICENSE للتفاصيل.
